setwd("~/GitHub/cave_data/data_files")
rm(list=ls())
library(dplR)
library(xts)
library(matrixStats)
library(lubridate)
install.packages("lubridate")
library(lubridate)
library(ggplot2)   # use at least 0.9.3 for theme_minimal()
gap1 = read.csv("VA_2011-2012.csv",na.strings=c("NA"," - "),header=F)
gap2 = read.csv("VA_2012-2013.csv",na.strings=c("NA"," - "),header=F)
gap3 = read.csv("VA_2013-2014.csv",na.strings=c("NA"," - "),header=F)
w1E = read.csv("IN_2011-2012 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w2E = read.csv("IN_2012-2013 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w3E = read.csv("IN_2013-2014 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w3H = read.csv("IN_2013-2014 (Deeper).csv",na.strings=c("NA"," - "),header=F)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
u95ci<-apply(t(data),median)+rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-rowMeans(t(data),median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
cis<-cbind(u95ci,l95ci)
lims<-range(cis[!is.na(cis)&is.finite(cis)])
u95ci<-apply(t(data),1,median)+rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-rowMeans(t(data),1,median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-apply(t(data),1,median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
cis<-cbind(u95ci,l95ci)
lims<-range(cis[!is.na(cis)&is.finite(cis)])
plot(apply(t(data),1,median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
lines(u95ci,col="grey")
lines(l95ci,col="grey")
axis(at=ax_1,labels=ax_1,side=2)
box()
axis(at=seq(from=0,to=288,by=288/24),labels=seq(from=0,to=24,by=1),side=1)
legend("topright",c("mean","95% confidence intervals"),lty=1,col=c("black","grey"),bty="n")
mtext("hours",side=1,line=3)
u95ci<-sapply(t(data),1,median)+rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-sapply(t(data),1,median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
u95ci<-sapply(t(data),median)+rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-sapply(t(data),median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
cis<-cbind(u95ci,l95ci)
lims<-range(cis[!is.na(cis)&is.finite(cis)])
plot(apply(t(data),1,median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
lines(u95ci,col="grey")
lines(l95ci,col="grey")
axis(at=ax_1,labels=ax_1,side=2)
box()
axis(at=seq(from=0,to=288,by=288/24),labels=seq(from=0,to=24,by=1),side=1)
legend("topright",c("mean","95% confidence intervals"),lty=1,col=c("black","grey"),bty="n")
mtext("hours",side=1,line=3)
plot(apply(data,1,median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
plot(apply(data,median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
apply(data,median)
apply(data,1,median)
apply(t(data),1,median)
data<-gap1
u95ci<-sapply(t(data),median)+rowSds((t(data)))/sqrt(length((t(data))[1,]))
l95ci<-sapply(t(data),median)-rowSds((t(data)))/sqrt(length((t(data))[1,]))
cis<-cbind(u95ci,l95ci)
lims<-range(cis[!is.na(cis)&is.finite(cis)])
plot(apply(t(data),median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
plot(apply(t(data)),median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
lines(u95ci,col="grey")
plot(apply(t(data),median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
dim(data)
plot(apply(t(data),1,median),type="l",ylim=c(min(lims),max(lims)),
main=main_fun,xlab="hours",ylab="Mean # saturated pixels",axes=F)
apply(t(data),1,median)
apply(t(data),2,median)
apply(t(data),2,mean)
plot(apply(t(data),2,mean))
plot(apply(t(data),2,median))
plot(apply(t(data)+1,2,median))
apply(t(data)+1,2,median)
apply(t(data)+1,2,mean)
plot(apply(t(data)+1,2,mean))
rm(list=ls())
library(dplR)
library(xts)
library(matrixStats)
library(lubridate)
library(ggplot2)   # use at least 0.9.3 for theme_minimal()
gap1 = read.csv("VA_2011-2012.csv",na.strings=c("NA"," - "),header=F)
gap2 = read.csv("VA_2012-2013.csv",na.strings=c("NA"," - "),header=F)
gap3 = read.csv("VA_2013-2014.csv",na.strings=c("NA"," - "),header=F)
w1E = read.csv("IN_2011-2012 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w2E = read.csv("IN_2012-2013 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w3E = read.csv("IN_2013-2014 (Entrance).csv",na.strings=c("NA"," - "),header=F)
w3H = read.csv("IN_2013-2014 (Deeper).csv",na.strings=c("NA"," - "),header=F)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
source('~/GitHub/cave_data/R_code_files/cave_day.R', echo=TRUE)
